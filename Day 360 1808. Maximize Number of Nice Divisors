class Solution {
    private static final long MOD = 1000000007L;

    public int maxNiceDivisors(int primeFactors) {
        if (primeFactors < 4) return primeFactors;
        long q = primeFactors / 3;
        int r = primeFactors % 3;
        if (r == 0) return (int) modPow(3, q);
        if (r == 1) return (int) (modPow(3, q - 1) * 4 % MOD);
        return (int) (modPow(3, q) * 2 % MOD);
    }

    private long modPow(long a, long e) {
        long res = 1;
        a %= MOD;
        while (e > 0) {
            if ((e & 1) == 1) res = (res * a) % MOD;
            a = (a * a) % MOD;
            e >>= 1;
        }
        return res;
    }
}
